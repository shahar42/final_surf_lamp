<!-- TEMPORARY P,W,H LABEL STYLING CONTROL PANEL - DELETE AFTER STYLING IS FINALIZED -->
<div id="labelControlPanel" style="position: fixed; right: 20px; top: 20px; width: 320px; background: rgba(30, 41, 59, 0.95); backdrop-filter: blur(10px); border-radius: 15px; padding: 20px; color: white; z-index: 9999; max-height: 90vh; overflow-y: auto; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);">
    <h3 style="margin: 0 0 20px 0; font-size: 18px; text-align: center; border-bottom: 2px solid rgba(59, 130, 246, 0.5); padding-bottom: 10px;">ðŸ”¤ P, W, H Label Controls</h3>

    <div style="margin-bottom: 15px;">
        <label style="display: block; margin-bottom: 5px; font-size: 12px; font-weight: 600; text-transform: uppercase;">Color</label>
        <input type="color" id="ctrl_color" value="#ffffff" style="width: 100%; height: 35px; border: none; border-radius: 8px; cursor: pointer;">
    </div>

    <div style="margin-bottom: 15px;">
        <label style="display: block; margin-bottom: 5px; font-size: 12px; font-weight: 600; text-transform: uppercase;">Font Size <span id="val_fontSize" style="background: rgba(0,0,0,0.3); padding: 2px 8px; border-radius: 4px; font-size: 11px;">12</span></label>
        <input type="range" id="ctrl_fontSize" min="8" max="24" step="1" value="12" style="width: 100%;">
    </div>

    <div style="margin-bottom: 15px;">
        <label style="display: block; margin-bottom: 5px; font-size: 12px; font-weight: 600; text-transform: uppercase;">Opacity <span id="val_opacity" style="background: rgba(0,0,0,0.3); padding: 2px 8px; border-radius: 4px; font-size: 11px;">1.0</span></label>
        <input type="range" id="ctrl_opacity" min="0.1" max="1" step="0.1" value="1" style="width: 100%;">
    </div>

    <div style="margin-bottom: 15px;">
        <label style="display: block; margin-bottom: 5px; font-size: 12px; font-weight: 600; text-transform: uppercase;">Shadow Blur <span id="val_shadowBlur" style="background: rgba(0,0,0,0.3); padding: 2px 8px; border-radius: 4px; font-size: 11px;">0</span></label>
        <input type="range" id="ctrl_shadowBlur" min="0" max="10" step="0.5" value="0" style="width: 100%;">
    </div>

    <div style="margin-bottom: 15px;">
        <label style="display: block; margin-bottom: 5px; font-size: 12px; font-weight: 600; text-transform: uppercase;">Shadow Offset X <span id="val_shadowX" style="background: rgba(0,0,0,0.3); padding: 2px 8px; border-radius: 4px; font-size: 11px;">0</span></label>
        <input type="range" id="ctrl_shadowX" min="-5" max="5" step="0.5" value="0" style="width: 100%;">
    </div>

    <div style="margin-bottom: 15px;">
        <label style="display: block; margin-bottom: 5px; font-size: 12px; font-weight: 600; text-transform: uppercase;">Shadow Offset Y <span id="val_shadowY" style="background: rgba(0,0,0,0.3); padding: 2px 8px; border-radius: 4px; font-size: 11px;">0</span></label>
        <input type="range" id="ctrl_shadowY" min="-5" max="5" step="0.5" value="0" style="width: 100%;">
    </div>

    <div style="margin-bottom: 15px;">
        <label style="display: block; margin-bottom: 5px; font-size: 12px; font-weight: 600; text-transform: uppercase;">Shadow Opacity <span id="val_shadowOpacity" style="background: rgba(0,0,0,0.3); padding: 2px 8px; border-radius: 4px; font-size: 11px;">0</span></label>
        <input type="range" id="ctrl_shadowOpacity" min="0" max="1" step="0.1" value="0" style="width: 100%;">
    </div>

    <button onclick="copyLabelConfig()" style="width: 100%; padding: 12px; background: linear-gradient(135deg, #10b981 0%, #059669 100%); border: none; border-radius: 8px; color: white; font-weight: bold; cursor: pointer; margin-top: 10px;">ðŸ“‹ Copy Config</button>

    <div id="configOutput" style="background: #0f172a; padding: 12px; border-radius: 8px; margin-top: 15px; font-family: monospace; font-size: 11px; word-wrap: break-word; max-height: 150px; overflow-y: auto;"></div>
</div>

<script>
(function() {
    // Get label elements
    const labelP = document.getElementById('stripLabelP');
    const labelW = document.getElementById('stripLabelW');
    const labelH = document.getElementById('stripLabelH');

    if (!labelP || !labelW || !labelH) {
        console.error('Label elements not found on dashboard');
        return;
    }

    // Get controls
    const controls = {
        color: document.getElementById('ctrl_color'),
        fontSize: document.getElementById('ctrl_fontSize'),
        opacity: document.getElementById('ctrl_opacity'),
        shadowBlur: document.getElementById('ctrl_shadowBlur'),
        shadowX: document.getElementById('ctrl_shadowX'),
        shadowY: document.getElementById('ctrl_shadowY'),
        shadowOpacity: document.getElementById('ctrl_shadowOpacity')
    };

    function updateLabels() {
        const labels = [labelP, labelW, labelH];
        const color = controls.color.value;
        const fontSize = controls.fontSize.value;
        const opacity = controls.opacity.value;
        const shadowBlur = controls.shadowBlur.value;
        const shadowX = controls.shadowX.value;
        const shadowY = controls.shadowY.value;
        const shadowOpacity = controls.shadowOpacity.value;

        // Build text shadow
        let textShadow = 'none';
        if (shadowBlur > 0 || shadowX != 0 || shadowY != 0) {
            textShadow = `${shadowX}px ${shadowY}px ${shadowBlur}px rgba(0, 0, 0, ${shadowOpacity})`;
        }

        // Apply to all labels
        labels.forEach(label => {
            label.style.color = color;
            label.style.fontSize = fontSize + 'px';
            label.style.opacity = opacity;
            label.style.textShadow = textShadow;
        });

        // Update value displays
        document.getElementById('val_fontSize').textContent = fontSize;
        document.getElementById('val_opacity').textContent = opacity;
        document.getElementById('val_shadowBlur').textContent = shadowBlur;
        document.getElementById('val_shadowX').textContent = shadowX;
        document.getElementById('val_shadowY').textContent = shadowY;
        document.getElementById('val_shadowOpacity').textContent = shadowOpacity;

        // Update config output
        updateConfigOutput();
    }

    function updateConfigOutput() {
        const config = {
            color: controls.color.value,
            fontSize: controls.fontSize.value + 'px',
            opacity: controls.opacity.value,
            textShadow: {
                blur: controls.shadowBlur.value,
                offsetX: controls.shadowX.value,
                offsetY: controls.shadowY.value,
                opacity: controls.shadowOpacity.value
            }
        };

        document.getElementById('configOutput').textContent = JSON.stringify(config, null, 2);
    }

    window.copyLabelConfig = function() {
        const config = document.getElementById('configOutput').textContent;
        navigator.clipboard.writeText(config).then(() => {
            alert('âœ… Config copied to clipboard!');
        });
    };

    // Add event listeners
    Object.values(controls).forEach(control => {
        control.addEventListener('input', updateLabels);
    });

    // Initialize
    updateLabels();
})();
</script>
